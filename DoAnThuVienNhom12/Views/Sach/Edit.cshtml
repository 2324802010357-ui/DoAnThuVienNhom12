@model DoAnThuVienNhom12.Models.Sach
@{
    ViewBag.Title = "Cập nhật sách";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .edit-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        padding: 30px;
        margin-bottom: 20px;
    }

    .form-section {
        background: #f9f9f9;
        border-left: 4px solid #667eea;
        padding: 20px;
        margin-bottom: 20px;
        border-radius: 4px;
    }

        .form-section h4 {
            margin-top: 0;
            color: #667eea;
        }

    .required-field::after {
        content: " *";
        color: red;
    }

    .btn-save {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border: none;
        color: white;
        padding: 12px 30px;
        font-size: 16px;
    }

        .btn-save:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
            color: white;
        }
</style>

<div class="animate-fade-in">
    <ol class="breadcrumb">
        <li><a href="@Url.Action("Index", "Home")"><i class="fa fa-home"></i> Trang chủ</a></li>
        <li><a href="@Url.Action("Index", "Sach")"><i class="fa fa-book"></i> Danh sách sách</a></li>
        <li class="active">Cập nhật sách</li>
    </ol>

    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="edit-card">
                <div class="page-header">
                    <h2><i class="fa fa-edit"></i> Cập nhật thông tin sách</h2>
                    <p class="lead">Điền đầy đủ thông tin để cập nhật sách trong hệ thống</p>
                </div>

                @using (Html.BeginForm("Edit", "Sach", FormMethod.Post, new { @class = "form-horizontal", enctype = "multipart/form-data" }))
                {
                    @Html.AntiForgeryToken()
                    @Html.HiddenFor(m => m.MaSach)

                    <!-- Thông tin cơ bản -->
                    <div class="form-section">
                        <h4><i class="fa fa-info-circle"></i> Thông tin cơ bản</h4>

                        <div class="form-group">
                            <label class="col-sm-3 control-label required-field">Tên sách</label>
                            <div class="col-sm-9">
                                @Html.TextBoxFor(m => m.TenSach, new { @class = "form-control", placeholder = "Nhập tên sách..." })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label required-field">Danh mục</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(m => m.MaDanhMuc, (SelectList)ViewBag.MaDanhMuc, "-- Chọn danh mục --", new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label required-field">Tác giả</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(m => m.MaTacGia, (SelectList)ViewBag.MaTacGia, "-- Chọn tác giả --", new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label required-field">Nhà xuất bản</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(m => m.MaNXB, (SelectList)ViewBag.MaNXB, "-- Chọn NXB --", new { @class = "form-control" })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Kệ sách</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(m => m.MaKe, (SelectList)ViewBag.MaKe, "-- Chọn kệ sách --", new { @class = "form-control" })
                            </div>
                        </div>
                    </div>

                    <!-- Thông tin xuất bản -->
                    <div class="form-section" style="border-left-color:#27ae60;">
                        <h4><i class="fa fa-building"></i> Thông tin xuất bản</h4>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Năm xuất bản</label>
                            <div class="col-sm-3">
                                @Html.TextBoxFor(m => m.NamXuatBan, new { @class = "form-control", type = "number", min = "1900", max = "2099" })
                            </div>

                            <label class="col-sm-3 control-label">Số trang</label>
                            <div class="col-sm-3">
                                @Html.TextBoxFor(m => m.SoTrang, new { @class = "form-control", type = "number", min = "1" })
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Ngôn ngữ</label>
                            <div class="col-sm-9">
                                @Html.TextBoxFor(m => m.NgonNgu, new { @class = "form-control", placeholder = "VD: Tiếng Việt" })
                            </div>
                        </div>
                    </div>

                    <!-- Giá và số lượng -->
                    <div class="form-section" style="border-left-color:#f39c12;">
                        <h4><i class="fa fa-cubes"></i> Số lượng & Giá</h4>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">Giá nhập</label>
                            <div class="col-sm-3">@Html.TextBoxFor(m => m.GiaNhap, new { @class = "form-control", type = "number", step = "0.01" })</div>

                            <label class="col-sm-3 control-label">Giá bìa</label>
                            <div class="col-sm-3">@Html.TextBoxFor(m => m.GiaBia, new { @class = "form-control", type = "number", step = "0.01" })</div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Số lượng</label>
                            <div class="col-sm-3">@Html.TextBoxFor(m => m.SoLuong, new { @class = "form-control", type = "number" })</div>

                            <label class="col-sm-3 control-label">Còn sẵn</label>
                            <div class="col-sm-3">@Html.TextBoxFor(m => m.SoLuongCoSan, new { @class = "form-control", type = "number" })</div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Tình trạng</label>
                            <div class="col-sm-9">
                                @Html.DropDownListFor(m => m.TinhTrang, new SelectList(new[] { "Còn hàng", "Hết hàng" }, Model.TinhTrang), "-- Chọn tình trạng --", new { @class = "form-control" })
                            </div>
                        </div>
                    </div>

                    <!-- Ảnh và mô tả -->
                    <div class="form-section" style="border-left-color:#9b59b6;">
                        <h4><i class="fa fa-image"></i> Ảnh & Mô tả</h4>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Link ảnh bìa</label>
                            <div class="col-sm-9">
                                @Html.TextBoxFor(m => m.AnhBia, new { @class = "form-control", placeholder = "https://..." })
                            </div>
                        </div>

                        @if (!string.IsNullOrEmpty(Model.AnhBia))
                        {
                            <div class="form-group">
                                <div class="col-sm-offset-3 col-sm-9">
                                    <img src="@Model.AnhBia" alt="Ảnh bìa" class="img-thumbnail" style="max-width:200px;" />
                                </div>
                            </div>
                        }

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Mô tả</label>
                            <div class="col-sm-9">@Html.TextAreaFor(m => m.MoTa, new { @class = "form-control", rows = 5 })</div>
                        </div>

                        <div class="form-group">
                            <label class="col-sm-3 control-label">Từ khóa</label>
                            <div class="col-sm-9">@Html.TextBoxFor(m => m.TuKhoa, new { @class = "form-control", placeholder = "VD: AI, Machine Learning, Công nghệ..." })</div>
                        </div>
                    </div>

                    <div class="form-group text-right">
                        <div class="col-sm-12">
                            <a href="@Url.Action("Index", "Sach")" class="btn btn-default btn-lg"><i class="fa fa-arrow-left"></i> Hủy</a>
                            <button type="submit" class="btn btn-save btn-lg"><i class="fa fa-save"></i> Lưu thay đổi</button>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
