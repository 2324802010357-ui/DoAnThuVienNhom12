@{
    ViewBag.Title = "Đăng nhập";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .login-container {
        min-height: 70vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 200"><defs><linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:%23667eea"/><stop offset="100%" style="stop-color:%23764ba2"/></linearGradient></defs><path fill="url(%23grad)" opacity="0.1" d="M0,100 C200,50 400,150 600,100 C800,50 1000,100 1000,100 L1000,0 L0,0 Z"/></svg>') no-repeat center top;
        background-size: cover;
    }
    
    .login-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        overflow: hidden;
        width: 100%;
        max-width: 450px;
        margin: 20px;
    }
    
    .login-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 40px 30px;
        text-align: center;
        color: white;
    }
    
    .login-header h3 {
        margin: 0;
        font-size: 28px;
        font-weight: 600;
        color: white;
    }
    
    .login-header p {
        margin: 10px 0 0 0;
        opacity: 0.9;
        font-size: 16px;
    }
    
    .login-icon {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: rgba(255,255,255,0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 35px;
    }
    
    .login-body {
        padding: 40px 30px;
    }
    
    .form-group-custom {
        position: relative;
        margin-bottom: 25px;
    }
    
    .form-control-custom {
        border: 2px solid #e1e5e9;
        border-radius: 12px;
        padding: 15px 20px;
        font-size: 16px;
        transition: all 0.3s ease;
        background: #f8f9fa;
    }
    
    .form-control-custom:focus {
        border-color: #667eea;
        background: white;
        box-shadow: 0 0 0 4px rgba(102,126,234,0.1);
    }
    
    .input-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: #6c757d;
        font-size: 18px;
        z-index: 2;
    }
    
    .form-control-with-icon {
        padding-left: 50px;
    }
    
    .login-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border: none;
        border-radius: 12px;
        padding: 15px;
        font-size: 16px;
        font-weight: 600;
        color: white;
        width: 100%;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }
    
    .login-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(102,126,234,0.4);
        color: white;
    }
    
    .forgot-link {
        color: #667eea;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    .forgot-link:hover {
        color: #764ba2;
        text-decoration: none;
    }
    
    .checkbox-custom {
        display: flex;
        align-items: center;
        margin: 20px 0;
        cursor: pointer;
    }
    
    .checkbox-custom input {
        margin-right: 10px;
        transform: scale(1.2);
    }
    
    .divider {
        text-align: center;
        margin: 30px 0;
        position: relative;
        color: #6c757d;
    }
    
    .divider::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background: #e1e5e9;
        z-index: 1;
    }
    
    .divider span {
        background: white;
        padding: 0 20px;
        position: relative;
        z-index: 2;
    }
    
    .social-login {
        display: flex;
        gap: 10px;
    }
    
    .social-btn {
        flex: 1;
        border: 2px solid #e1e5e9;
        background: white;
        color: #6c757d;
        border-radius: 12px;
        padding: 12px;
        transition: all 0.3s ease;
        text-align: center;
        text-decoration: none;
    }
    
    .social-btn:hover {
        border-color: #667eea;
        color: #667eea;
        text-decoration: none;
        transform: translateY(-1px);
    }
    
    .toggle-password {
        position: absolute;
        right: 15px;
        top: 50%;
        transform: translateY(-50%);
        border: none;
        background: none;
        color: #6c757d;
        cursor: pointer;
        font-size: 18px;
        z-index: 3;
    }
    
    .toggle-password:hover {
        color: #667eea;
    }
</style>

<div class="login-container">
    <div class="login-card animate-fade-in">
        <div class="login-header">
            <div class="login-icon">
                <i class="fa fa-book"></i>
            </div>
            <h3>Đăng nhập</h3>
            <p>Hệ thống quản lý thư viện</p>
        </div>
        
        <div class="login-body">
            <form class="form" onsubmit="return false;">
                <div class="form-group-custom">
                    <i class="fa fa-user input-icon"></i>
                    <input class="form-control form-control-custom form-control-with-icon" 
                           placeholder="Email hoặc tên đăng nhập" 
                           type="text"
                           id="username">
                </div>
                
                <div class="form-group-custom">
                    <i class="fa fa-lock input-icon"></i>
                    <input id="pwd" 
                           type="password" 
                           class="form-control form-control-custom form-control-with-icon" 
                           placeholder="Mật khẩu"
                           style="padding-right: 50px;">
                    <button type="button" id="togglePwd" class="toggle-password" title="Hiện/ẩn mật khẩu">
                        <i class="fa fa-eye"></i>
                    </button>
                </div>
                
                <div class="checkbox-custom">
                    <input type="checkbox" id="remember">
                    <label for="remember">Ghi nhớ đăng nhập</label>
                </div>
                
                <button class="login-btn">
                    <i class="fa fa-sign-in" style="margin-right: 8px;"></i>
                    Đăng nhập
                </button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <a href="#" class="forgot-link">Quên mật khẩu?</a>
                </div>
            </form>
            
            <div class="divider">
                <span>Hoặc đăng nhập bằng</span>
            </div>
            
            <div class="social-login">
                <a href="#" class="social-btn">
                    <i class="fa fa-google"></i>
                </a>
                <a href="#" class="social-btn">
                    <i class="fa fa-facebook"></i>
                </a>
                <a href="#" class="social-btn">
                    <i class="fa fa-microsoft"></i>
                </a>
            </div>
            
            <div style="text-align: center; margin-top: 30px; color: #6c757d;">
                <small>
                    Chưa có tài khoản? 
                    <a href="#" class="forgot-link">Đăng ký ngay</a>
                </small>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script>
        (function () {
            var toggleBtn = document.getElementById("togglePwd");
            var passwordInput = document.getElementById("pwd");
            
            if (toggleBtn && passwordInput) {
                toggleBtn.addEventListener("click", function () {
                    if (passwordInput.type === "password") {
                        passwordInput.type = "text";
                        this.querySelector('i').className = "fa fa-eye-slash";
                    } else {
                        passwordInput.type = "password";
                        this.querySelector('i').className = "fa fa-eye";
                    }
                });
            }
            
            // Thêm hiệu ứng focus cho form
            document.querySelectorAll('.form-control-custom').forEach(function(input) {
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('focused');
                });
                
                input.addEventListener('blur', function() {
                    if (this.value === '') {
                        this.parentElement.classList.remove('focused');
                    }
                });
            });
            
            // Demo đăng nhập
            document.querySelector('.login-btn').addEventListener('click', function() {
                var username = document.getElementById('username').value;
                var password = document.getElementById('pwd').value;
                
                if (!username || !password) {
                    alert('Vui lòng điền đầy đủ thông tin!');
                    return;
                }
                
                // Hiển thị loading
                this.innerHTML = '<i class="fa fa-spinner fa-spin"></i> Đang đăng nhập...';
                this.disabled = true;
                
                // Giả lập quá trình đăng nhập
                setTimeout(() => {
                    alert('Đăng nhập thành công! (Demo)');
                    this.innerHTML = '<i class="fa fa-sign-in"></i> Đăng nhập';
                    this.disabled = false;
                }, 2000);
            });
        })();
    </script>
}
